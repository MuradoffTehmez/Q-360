#!/usr/bin/env python3
"""
Script to specifically update the django.po file with English translations 
for empty msgstr entries based on their corresponding msgid values.
"""

import re


def get_english_translation(azeri_text):
    """
    Returns English translation for the provided Azerbaijani text.
    """
    translations = {
        "Rol Məlumatları": "Role Information",
        "İcazələr": "Permissions",
        "Tarixlər": "Dates",
        "Şəxsi Məlumatlar": "Personal Information",
        "Təşkilati Məlumatlar": "Organizational Information",
        "Statistika": "Statistics",
        "İstifadě": "User",
        "Peşěkar Məlumatlar": "Professional Information",
        "Əlaqě Məlumatları": "Contact Information",
        "Sistem Těnzimlěmělěri": "System Settings",
        "Metadata": "Metadata",
        "Rol Adı": "Role Name",
        "Göstěrilěcěk Ad": "Display Name",
        "Těsvir": "Description",
        "Yaradılma Tarixi": "Creation Date",
        "Yenilěnmě Tarixi": "Update Date",
        "Rol": "Role",
        "Rollar": "Roles",
        "Şöbě": "Department",
        "Vězifě": "Position",
        "Ata adı": "Patronymic",
        "Telefon": "Phone",
        "İşči ID": "Employee ID",
        "Profil Šěkli": "Profile Image",
        "Haqqında": "About",
        "Rěhběr": "Manager",
        "Aktiv": "Active",
        "Qoşulma Tarixi": "Join Date",
        "Son Giriş": "Last Login",
        "İstifaděčilěr": "Users",
        "Doğum Tarixi": "Date of Birth",
        "İşě Qěbul Tarixi": "Hire Date",
        "Těhsil Sěviyyěsi": "Education Level",
        "İxtisas": "Specialization",
        "İş E-počtu": "Work Email",
        "İş Telefonu": "Work Phone",
        "Ünvan": "Address",
        "Dil Seçimi": "Language Selection",
        "E-počt Bildirişlěri": "Email Notifications",
        "SMS Bildirişlěri": "SMS Notifications",
        "Profillěr": "Profiles",
        "Model": "Model",
        "Děyişikliklěr": "Changes",
        "Audit Qeydi": "Audit Record",
        "Audit Qeydlěri": "Audit Records",
        "Kompetensiya İdarěetměsi": "Competency Management",
        "Kompetensiya Adı": "Competency Name",
        "Kompetensiya": "Competency",
        "Kompetensiyalar": "Competencies",
        "Sěviyyě Adı": "Level Name",
        "Minimum Bal": "Minimum Score",
        "Maksimum Bal": "Maximum Score",
        "Bacarıq Sěviyyěsi": "Skill Level",
        "Bacarıq Sěviyyělěri": "Skill Levels",
        "Çěki (%)": "Weight (%)",
        "Bu kompetensiyanın vězifě üçün əhěmiyyět děrěcěsi (1-100%)": "Importance of this competency for the position (1-100%)",
        "Tělěb Olunan Sěviyyě": "Required Level",
        "Měcburi": "Mandatory",
        "Bu kompetensiya vězifě üçün měcburidirmi?": "Is this competency mandatory for the position?",
        "Vězifě Kompetensiyası": "Position Competency",
        "Vězifě Kompetensiyaları": "Position Competencies",
        "Çěki 1 ilě 100 arasında olmalıdır.": "Weight must be between 1 and 100.",
        "Sěviyyě": "Level",
        "Cari Bal": "Current Score",
        "Qiymětlěndirměděn əldě edilěn son bal": "Latest score from evaluation",
        "Těsdiqlěndi": "Confirmed",
        "Těsdiq Statusu": "Confirmation Status",
        "Těsdiqlěyěn": "Confirmed By",
        "Těsdiq Tarixi": "Confirmation Date",
        "Özünüqiymětlěndirmě Balı": "Self-Assessment Score",
        "Qeydlěr": "Notes",
        "İstifaděçi Bacarığı": "User Skill",
        "İstifaděçi Bacarıqları": "User Skills",
        "Əsas Mělumatlar": "Basic Information",
        "Status": "Status",
        "Rěhběrlik": "Management",
        "Ağac Strukturu": "Tree Structure",
        "Vězifě Detalları": "Position Details",
        "Tělěblěr": "Requirements",
        "Těşkilat Adı": "Organization Name",
        "Qısa Ad": "Short Name",
        "Těşkilat Kodu": "Organization Code",
        "E-počt": "Email",
        "Veb Sayt": "Website",
        "Těsis Tarixi": "Foundation Date",
        "Těşkilat": "Organization",
        "Těşkilatlar": "Organizations",
        "Üst Şöbě": "Parent Department",
        "Şöbě Adı": "Department Name",
        "Şöbě Kodu": "Department Code",
        "Yerlěşmě": "Location",
        "Şöbě Rěhběri": "Department Head",
        "Şöbělěr": "Departments",
        "Vězifě Adı": "Position Name",
        "Vězifě Kodu": "Position Code",
        "Vězifě Öhděliklěri": "Position Responsibilities",
        "1=Rěhběrlik, 2=Orta menecment, 3=Əměkdaş": "1=Management, 2=Middle management, 3=Staff",
        "Hesabat Verir": "Reports To",
        "Tělěb Olunan Těhsil": "Required Education",
        "Tělěb Olunan Těcrübě": "Required Experience",
        "Vězifělěr": "Positions",
        "Měqsěd": "Goal",
        "Kateqoriya": "Category",
        "Hěděf Tarixi": "Target Date",
        "Těsdiq Qeydi": "Approval Note",
        "İnkişaf Měqsědi": "Development Goal",
        "İnkişaf Měqsědlěri": "Development Goals",
        "Qeyd": "Note",
        "İrělilěyiş %": "Progress %",
        "Layihě": "Project",
        "İrělilěyiş Qeydi": "Progress Note",
        "İrělilěyiş Qeydlěri": "Progress Notes",
        "Hěděflěr": "Goals",
        "Yaradıcı vě Statistika": "Creator and Statistics",
        "Sual Mělumatları": "Question Information",
        "Qiymětlěndirmě": "Evaluation",
        "Parametrlěr": "Parameters",
        "Kampaniya": "Campaign",
        "İştirakçılar": "Participants",
        "Tapşırıq vě Sual": "Task and Question",
        "Cavab": "Answer",
        "Sentiment Analizi": "Sentiment Analysis",
        "Kampaniya vě İstifaděçi": "Campaign and User",
        "Ümumi Něticě": "Overall Result",
        "Bal Parçalanması": "Score Breakdown",
        "Kampaniya Adı": "Campaign Name",
        "Başlama Tarixi": "Start Date",
        "Bitmě Tarixi": "End Date",
        "Anonim Qiymětlěndirmě": "Anonymous Evaluation",
        "Qiymětlěndirěnin kimliyini gizlět": "Hide evaluator's identity",
        "Özünüděyěrlěndirměyě İcazě Ver": "Allow Self-Assessment",
        "Özünüděyěrlěndirmě Çěkisi (%)": "Self-Assessment Weight (%)",
        "Yekun balda özünüděyěrlěndirměnin çěkisi": "Weight of self-assessment in final score",
        "Rěhběr Çěkisi (%)": "Manager Weight (%)",
        "Yekun balda rěhběr qiymětlěndir​měsinin çěkisi": "Weight of manager evaluation in final score",
        "Hěmkar Çěkisi (%)": "Peer Weight (%)",
        "Yekun balda hěmkar qiymětlěndirměsinin çěkisi": "Weight of peer evaluation in final score",
        "Tabelik Çěkisi (%)": "Subordinate Weight (%)",
        "Yekun balda tabelik qiymětlěndirměsinin çěkisi": "Weight of subordinate evaluation in final score",
        "Hěděf Şöbělěr": "Target Departments",
        "Hěděf İstifaděčilěr": "Target Users",
        "Yaradan": "Creator",
        "Qiymětlěndirmě Kampaniyası": "Evaluation Campaign",
        "Qiymětlěndirmě Kampaniyaları": "Evaluation Campaigns",
        "Ağırlıq çěkilěrinin cěmi 100% olmalıdır. ": "Sum of weight percentages must be 100%.",
        "Bitmě tarixi başlama tarixinděn sonra olmalıdır.": "End date must be after start date.",
        "Kateqoriya Adı": "Category Name",
        "Sıra": "Order",
        "Sual Kateqoriyası": "Question Category",
        "Sual Kateqoriyaları": "Question Categories",
        "Sual Mětni": "Question Text",
        "Sual Növü": "Question Type",
        "Qiymětlěndirmě 1-5 şkalasında aparılır": "Evaluation is performed on a 1-5 scale",
        "Suallar": "Questions",
        "Kampaniya Sualı": "Campaign Question",
        "Kampaniya Sualları": "Campaign Questions",
        "Qiymětlěndirěn": "Evaluator",
        "Qiymětlěndirilěn": "Evaluated",
        "Əlaqě Növü": "Relationship Type",
        "Başlanma Vaxtı": "Start Time",
        "Tamamlanma Vaxtı": "Completion Time",
        "Qiymětlěndirmě Tapşırığı": "Evaluation Task",
        "Qiymětlěndirmě Tapşırıqları": "Evaluation Tasks",
        "Tapşırıq": "Task",
        "Bal": "Score",
        "1-5 arası qiymětlěndirmě balı": "Score on a 1-5 scale",
        "Běli/Xeyr Cavabı": "Yes/No Answer",
        "Mětn Cavabı": "Text Answer",
        "Šěrh": "Comment",
        "Sentiment Skoru": "Sentiment Score",
        "VADER sentiment compound skoru (-1.0 - +1.0)": "VADER sentiment compound score (-1.0 - +1.0)",
        "Sentiment Kateqoriyası": "Sentiment Category",
        "Cavablar": "Answers",
        "Ümumi Bal": "Total Score",
        "Özünüděyěrlěndirmě Balı": "Self-Assessment Score",
        "Rěhběr Balı": "Manager Score",
        "Hěmkar Balı": "Peer Score",
        "Tabelik Balı": "Subordinate Score",
        "Qiymětlěndirěn Sayı": "Number of Evaluators",
        "Tamamlanma Faizi": "Completion Percentage",
        "Yekunlaşdırılmış": "Finalized",
        "Yekunlaşdırma Vaxtı": "Finalization Time",
        "Hesablama Vaxtı": "Calculation Time",
        "Qiymětlěndirmě Něticěsi": "Evaluation Result",
        "Qiymětlěndirmě Něticělěri": "Evaluation Results",
        "Başlıq": "Title",
        "Mesaj": "Message",
        "Oxundu": "Read",
        "Keçid": "Redirect",
        "Bildiriş": "Notification",
        "Bildirişlěr": "Notifications",
        "Şablon Adı": "Template Name",
        "Mövzu": "Subject",
        "HTML Mězmun": "HTML Content",
        "Mětn Mězmunu": "Text Content",
        "E-počt Şablonu": "Email Template",
        "E-počt Şablonları": "Email Templates",
        "Şablon": "Template",
        "Alıcı": "Recipient",
        "Xěta Mesajı": "Error Message",
        "E-počt Loqu": "Email Log",
        "E-počt Loqları": "Email Logs",
        "Hesabat Mělumatları": "Report Data",
        "Hesabat": "Report",
        "Hesabatlar": "Reports",
        "Radar Qrafik Mělumatı": "Radar Chart Data",
        "Radar Qrafik Mělumatları": "Radar Chart Data",
        "Hesabat Növü": "Report Type",
        "Tělěb eděn": "Requester",
        "Hesabat Faylı": "Report File",
        "Task ID, parameterlěr vě s.": "Task ID, parameters, etc.",
        "Tamamlanma Tarixi": "Completion Date",
        "Hesabat Yaratma Loqu": "Report Creation Log",
        "Hesabat Yaratma Loqları": "Report Creation Logs",
        "Prioritet": "Priority",
        "Těyin Edildi": "Assigned",
        "Hěll Tarixi": "Resolution Date",
        "Děstěk Sorğusu": "Support Request",
        "Děstěk Sorğuları": "Support Requests",
        "Sorğu": "Request",
        "Daxili Qeyd": "Internal Note",
        "Yalnız support komandası üçün görüněn": "Visible only to support team",
        "Sorğu Šěrhi": "Request Comment",
        "Sorğu Šěrhlěri": "Request Comments",
        "Tělim vě İnkişaf": "Training and Development",
        "Tělim Adı": "Training Name",
        "Tělim Növü": "Training Type",
        "Onlayn": "Online",
        "Çatdırılma Metodu": "Delivery Method",
        "Link": "Link",
        "Onlayn tělim linki vě ya əlavě mělumat": "Online training link or additional information",
        "Çětinlik Sěviyyěsi": "Difficulty Level",
        "Müddět (saat)": "Duration (hours)",
        "Tělimin těxmini müdděti saat olaraq": "Estimated duration of training in hours",
        "Dil": "Language",
        "Əlaqěli Kompetensiyalar": "Related Competencies",
        "Bu tělimin inkişaf etdirdiyi kompetensiyalar": "Competencies developed by this training",
        "Tělim Těminatçısı": "Training Provider",
        "Tělimatçı/Mütěxěssis": "Instructor/Specialist",
        "Qiymět": "Price",
        "Tělimin děyěri (manat)": "Value of training (manat)",
        "Maksimum İştirakçı": "Maximum Participants",
        "Müěyyěn vězifělěr üçün měcburi tělim": "Mandatory training for specific positions",
        "Tělim Resursu": "Training Resource",
        "Tělim Resursları": "Training Resources",
        "Těyin Eděn": "Assigned By",
        "Těyin Növü": "Assignment Type",
        "Əlaqěli İnkişaf Měqsědi": "Related Development Goal",
        "Son Tarix": "Deadline",
        "Proqres (%)": "Progress (%)",
        "0-100 arası": "0-100 range",
        "Tamamlanma Qeydi": "Completion Note",
        "İstifaděçi Rěyi": "User Feedback",
        "Reytinq": "Rating",
        "1-5 ulduz arası qiymětlěndirmě": "1-5 star rating",
        "Sertifikat Linki": "Certificate Link",
        "İstifaděçi Tělimi": "User Training",
        "İstifaděçi Tělimlěri": "User Trainings",
        "Welcome": "Welcome",
        "Here's what's happening today": "Here's what's happening today",
        "Print": "Print",
        "Pending": "Pending",
        "Completed": "Completed",
        "Avg Score": "Avg Score",
        "My Active Tasks": "My Active Tasks",
        "Top 3 critical functions for your attention": "Top 3 critical functions for your attention",
        "Pending Evaluations": "Pending Evaluations",
        "Awaiting your response": "Awaiting your response",
        "Upcoming Trainings": "Upcoming Trainings",
        "Due within 7 days": "Due within 7 days",
        "Skills Pending Approval": "Skills Pending Approval",
        "Requires your approval": "Requires your approval",
        "Active Development Goals": "Active Development Goals",
        "In progress": "In progress",
        "My Assignments": "My Assignments",
        "View All": "View All",
        "Person": "Person",
        "Campaign": "Campaign",
        "Type": "Type",
        "Action": "Action",
        "Fill": "Fill",
        "No pending evaluations": "No pending evaluations",
        "Quick Actions": "Quick Actions",
        "Goals": "Goals",
        "No notifications": "No notifications",
        "Performance Trend": "Performance Trend",
        "Score Distribution": "Score Distribution",
        "Initial Setup Wizard": "Initial Setup Wizard",
        "First Time Setup": "First Time Setup",
        "Setup Wizard": "Setup Wizard",
        "Let's configure your Q360 system in a few simple steps": "Let's configure your Q360 system in a few simple steps",
        "Setup Progress": "Setup Progress",
        "Step": "Step",
        "Organization Information": "Organization Information",
        "Enter your organization details": "Enter your organization details",
        "Organization Name": "Organization Name",
        "Enter organization name": "Enter organization name",
        "Industry": "Industry",
        "Select industry": "Select industry",
        "Technology": "Technology",
        "Finance": "Finance",
        "Healthcare": "Healthcare",
        "Education": "Education",
        "Other": "Other",
        "Department Structure": "Department Structure",
        "Add your main departments": "Add your main departments",
        "Department name": "Department name",
        "Add Department": "Add Department",
        "User Import": "User Import",
        "Import users or add them manually later": "Import users or add them manually later",
        "Upload CSV file or skip for now": "Upload CSV file or skip for now",
        "Choose File": "Choose File",
        "Competency Framework": "Competency Framework",
        "Select a competency framework template": "Select a competency framework template",
        "Basic Framework": "Basic Framework",
        "Essential competencies for most organizations": "Essential competencies for most organizations",
        "Advanced Framework": "Advanced Framework",
        "Comprehensive competencies with technical skills": "Comprehensive competencies with technical skills",
        "Review & Confirm": "Review & Confirm",
        "Review your setup before completing": "Review your setup before completing",
        "Organization": "Organization",
        "Not set": "Not set",
        "departments": "departments",
        "Not selected": "Not selected",
        "Back": "Back",
        "Skip Setup": "Skip Setup",
        "Next": "Next",
        "Complete Setup": "Complete Setup",
        "Review": "Review",
        "Setup completed successfully!": "Setup completed successfully!",
        "Setup failed. Please try again.": "Setup failed. Please try again.",
        "Manage system users": "Manage system users",
        "Refresh": "Refresh",
        "Total Users": "Total Users",
        "User List": "User List",
        "of": "of",
        "User": "User",
        "Email": "Email",
        "Department": "Department",
        "Role": "Role",
        "Active": "Active",
        "Inactive": "Inactive",
        "No users found": "No users found",
        "Load More": "Load More",
        "All users loaded": "All users loaded",
        "Failed to load users": "Failed to load users",
        "Security Dashboard": "Security Dashboard",
        "Total Login Failures (7 days)": "Total Login Failures (7 days)",
        "Failures by Day": "Failures by Day",
        "Top Failed IPs": "Top Failed IPs",
        "IP Address": "IP Address",
        "Failures": "Failures",
        "No data available": "No data available",
        "Top Failed Users": "Top Failed Users",
        "Username": "Username",
        "Recent Failures": "Recent Failures",
        "Time": "Time",
        "Login Failures": "Login Failures",
        "360° Performance Evaluation System": "360° Performance Evaluation System",
        "Professional 360° Performance Evaluation System": "Professional 360° Performance Evaluation System",
        "Quick Links": "Quick Links",
        "Help": "Help",
        "Resources": "Resources",
        "Privacy Policy": "Privacy Policy",
        "Terms of Service": "Terms of Service",
        "Contact": "Contact",
        "All rights reserved.": "All rights reserved.",
        "Home": "Home",
        "Skills": "Skills",
        "Send Feedback": "Send Feedback",
        "Profile": "Profile",
        "Settings": "Settings",
        "Security": "Security",
        "Admin Panel": "Admin Panel",
        "Logout": "Logout",
        "Login": "Login",
        "My Reports": "My Reports",
        "Team Reports": "Team Reports",
        "Custom Report Builder": "Custom Report Builder",
        "Skills & Training": "Skills & Training",
        "My Skills": "My Skills",
        "Skill Gap Analysis": "Skill Gap Analysis",
        "My Trainings": "My Trainings",
        "My Certificates": "My Certificates",
        "Training Catalog": "Training Catalog",
        "Development": "Development",
        "My Goals": "My Goals",
        "Goal Suggestions": "Goal Suggestions",
        "My Competency Gaps": "My Competency Gaps",
        "HR Tools": "HR Tools",
        "Talent Matrix": "Talent Matrix",
        "Succession Planning": "Succession Planning",
        "Gap Analysis": "Gap Analysis",
        "Users Management": "Users Management",
        "Training Programs": "Training Programs",
        "Feedback": "Feedback",
        "Received Feedback": "Received Feedback",
        "Recognition Feed": "Recognition Feed",
        "My Feedback Bank": "My Feedback Bank",
        "Proactive Suggestions": "Proactive Suggestions",
        "Inbox": "Inbox",
        "Bulk Notifications": "Bulk Notifications",
        "Templates": "Templates",
        "System": "System",
        "Question Library": "Question Library",
        "RBAC Matrix": "RBAC Matrix",
        "Version": "Version",
        "Competency Details": "Competency Details",
        "Competency Library": "Competency Library",
        "Explore requirements, related positions, and proficiency trends.": "Explore requirements, related positions, and proficiency trends.",
        "Back to list": "Back to list",
        "Overview": "Overview",
        "Competency": "Competency",
        "No description provided yet.": "No description provided yet.",
        "Created": "Created",
        "Last Updated": "Last Updated",
        "Positions": "Positions",
        "Roles depending on this competency": "Roles depending on this competency",
        "Position": "Position",
        "Weight": "Weight",
        "Required Level": "Required Level",
        "No linked positions yet.": "No linked positions yet.",
        "People": "People",
        "Users practicing this competency": "Users practicing this competency",
        "Level": "Level",
        "Score": "Score",
        "No user skills recorded yet.": "No user skills recorded yet.",
        "Snapshot": "Snapshot",
        "Roles referencing this competency": "Roles referencing this competency",
        "Professionals": "Professionals",
        "Active skill holders": "Active skill holders",
        "Average Score": "Average Score",
        "N/A": "N/A"
    }
    
    return translations.get(azeri_text, azeri_text)


def process_po_file(file_path):
    """Process the .po file to fill empty msgstr entries."""
    
    with open(file_path, 'r', encoding='utf-8') as f:
        content = f.read()
    
    # Find all msgid and empty msgstr pairs
    # The pattern matches: msgid "..." followed by msgstr "" without any content in between
    pattern = r'(msgid\s+"(.+?)"\nmsgstr\s+"")'
    
    def replace_empty_msgstr(match):
        full_match = match.group(1)
        msgid_text = match.group(2)
        
        # Only replace if msgstr is empty
        if 'msgstr ""' in full_match:
            english_translation = get_english_translation(msgid_text)
            return f'msgid "{msgid_text}"\nmsgstr "{english_translation}"'
        
        return full_match
    
    # Replace all empty msgstr entries
    updated_content = re.sub(pattern, replace_empty_msgstr, content)
    
    # Write the updated content back to the file
    with open(file_path, 'w', encoding='utf-8') as f:
        f.write(updated_content)
    
    print(f"Updated {file_path} with English translations for empty msgstr entries.")
    
    # Count remaining empty msgstr entries (excluding header)
    remaining_empty = len(re.findall(r'\nmsgid\s+"[^"]+"\s*\nmsgstr\s+""', updated_content))
    print(f"Remaining empty msgstr entries: {remaining_empty}")


if __name__ == "__main__":
    po_file_path = "C:/lahiyeler/q360/q360_project/locale/az/LC_MESSAGES/django.po"
    process_po_file(po_file_path)
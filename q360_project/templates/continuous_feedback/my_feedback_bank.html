{% extends 'base/base.html' %}
{% load static %}{% load i18n %}
{% block title %}Rəy Bankım - Q360{% endblock %}
{% block page_header %}
<div class="mb-6">
    <h1 class="text-3xl font-bold text-gray-900 dark:text-white"><i class="fas fa-database mr-2"></i>{% trans "Mənim Rəy Bankım" %}</h1>
    <p class="text-gray-600 dark:text-gray-400 mt-1">{% trans "Toplanmış rəy statistikası" %}</p>
</div>
{% endblock %}
{% block content %}
<div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
    <div class="bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-700">
        <p class="text-sm font-medium text-blue-600 dark:text-blue-400 uppercase">{% trans "Ümumi Rəylər" %}</p>
        <p class="text-3xl font-bold text-blue-700 dark:text-blue-300 mt-2">{{ bank.total_feedbacks_received }}</p>
    </div>
    <div class="bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 rounded-xl p-6 border border-green-200 dark:border-green-700">
        <p class="text-sm font-medium text-green-600 dark:text-green-400 uppercase">{% trans "Təşəkkürlər" %}</p>
        <p class="text-3xl font-bold text-green-700 dark:text-green-300 mt-2">{{ bank.total_recognitions }}</p>
    </div>
    <div class="bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 rounded-xl p-6 border border-purple-200 dark:border-purple-700">
        <p class="text-sm font-medium text-purple-600 dark:text-purple-400 uppercase">{% trans "Təkliflər" %}</p>
        <p class="text-3xl font-bold text-purple-700 dark:text-purple-300 mt-2">{{ bank.total_improvements }}</p>
    </div>
    <div class="bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 rounded-xl p-6 border border-yellow-200 dark:border-yellow-700">
        <p class="text-sm font-medium text-yellow-600 dark:text-yellow-400 uppercase">{% trans "Orta Qiymət" %}</p>
        <p class="text-3xl font-bold text-yellow-700 dark:text-yellow-300 mt-2">{{ bank.average_rating|floatformat:1 }}</p>
    </div>
</div>
<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700">
    <div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700">
        <h2 class="text-lg font-semibold text-gray-900 dark:text-white"><i class="fas fa-history mr-2"></i>{% trans "Son Rəylər" %}</h2>
    </div>
    <div class="p-6">
        {% if recent_feedback %}
        <div class="space-y-3">
            {% for feedback in recent_feedback %}
            <div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                <div class="flex items-center space-x-3">
                    <i class="fas {% if feedback.feedback_type == 'recognition' %}fa-thumbs-up text-green-600{% else %}fa-lightbulb text-blue-600{% endif %} text-xl"></i>
                    <div>
                        <p class="font-semibold text-gray-900 dark:text-white">{{ feedback.title }}</p>
                        <p class="text-xs text-gray-600 dark:text-gray-400">{% if feedback.is_anonymous %}Anonim{% else %}{{ feedback.sender.get_full_name }}{% endif %} - {{ feedback.created_at|date:"d.m.Y" }}</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p class="text-center text-gray-500 dark:text-gray-400 py-8">{% trans "Rəy yoxdur" %}</p>
        {% endif %}
    </div>
</div>
{% endblock %}

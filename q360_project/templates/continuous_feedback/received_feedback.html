{% extends 'base/base.html' %}
{% load static %}{% load i18n %}
{% block title %}Aldığım Rəylər - Q360{% endblock %}
{% block page_header %}
<div class="mb-6">
    <h1 class="text-3xl font-bold text-gray-900 dark:text-white"><i class="fas fa-inbox mr-2"></i>{% trans "Aldığım Rəylər" %}</h1>
    <p class="text-gray-600 dark:text-gray-400 mt-1">{% trans "Həmkarlarımdan aldığım rəylər" %}</p>
</div>
{% endblock %}
{% block content %}
<div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
    <div class="bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-700">
        <p class="text-sm font-medium text-blue-600 dark:text-blue-400 uppercase">{% trans "Ümumi" %}</p>
        <p class="text-3xl font-bold text-blue-700 dark:text-blue-300 mt-2">{{ stats.total_received }}</p>
    </div>
    <div class="bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 rounded-xl p-6 border border-green-200 dark:border-green-700">
        <p class="text-sm font-medium text-green-600 dark:text-green-400 uppercase">{% trans "Təşəkkürlər" %}</p>
        <p class="text-3xl font-bold text-green-700 dark:text-green-300 mt-2">{{ stats.recognitions }}</p>
    </div>
    <div class="bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 rounded-xl p-6 border border-purple-200 dark:border-purple-700">
        <p class="text-sm font-medium text-purple-600 dark:text-purple-400 uppercase">{% trans "Təkliflər" %}</p>
        <p class="text-3xl font-bold text-purple-700 dark:text-purple-300 mt-2">{{ stats.improvements }}</p>
    </div>
    <div class="bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 rounded-xl p-6 border border-yellow-200 dark:border-yellow-700">
        <p class="text-sm font-medium text-yellow-600 dark:text-yellow-400 uppercase">{% trans "Bu Ay" %}</p>
        <p class="text-3xl font-bold text-yellow-700 dark:text-yellow-300 mt-2">{{ stats.this_month }}</p>
    </div>
</div>
<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700">
    <div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700">
        <h2 class="text-lg font-semibold text-gray-900 dark:text-white"><i class="fas fa-list mr-2"></i>{% trans "Alınan Rəylər" %}</h2>
    </div>
    <div class="p-6">
        {% if received_feedback %}
        <div class="space-y-4">
            {% for feedback in received_feedback %}
            <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-6 {% if feedback.feedback_type == 'recognition' %}bg-green-50/30 dark:bg-green-900/10{% endif %}">
                <div class="flex items-start justify-between mb-3">
                    <div class="flex-1">
                        <div class="flex items-center space-x-2 mb-2">
                            <span class="px-3 py-1 text-sm font-semibold rounded-full {% if feedback.feedback_type == 'recognition' %}bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400{% else %}bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400{% endif %}"><i class="fas {% if feedback.feedback_type == 'recognition' %}fa-thumbs-up{% else %}fa-lightbulb{% endif %} mr-1"></i>{{ feedback.get_feedback_type_display }}</span>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">{{ feedback.title }}</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-400"><i class="fas fa-user mr-1"></i>{% if feedback.is_anonymous %}<i class="fas fa-user-secret mr-1"></i>Anonim{% else %}{{ feedback.sender.get_full_name }}{% endif %} - {{ feedback.created_at|date:"d.m.Y H:i" }}</p>
                    </div>
                </div>
                <p class="text-gray-700 dark:text-gray-300 mb-4">{{ feedback.message }}</p>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="text-center py-12">
            <i class="fas fa-inbox text-6xl text-gray-300 dark:text-gray-600 mb-4"></i>
            <p class="text-gray-500 dark:text-gray-400">{% trans "Hələ rəy almamısınız" %}</p>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
